# MVP 开发计划（前后端并行）

> 核心原则：
> **任何一个 Sprint 结束，都必须“可打开页面、可操作、可验证一个真实场景”。**

---

## Sprint 0（0.5 周）：项目骨架 + 最小页面

**目标**：能打开页面、能点、能请求 API

### 后端

* 项目初始化
* DB migration（accounts / products / snapshots 最小集）
* 健康检查 API

### 前端

* 基础 Layout（导航）
* 空白页面：账户 / 产品 / Dashboard（哪怕是 placeholder）

✅ 验收：

* 前后端联通
* 页面可访问

---

## Sprint 1（Week 1）：账户 & 产品管理（你建议的 T1-2 并行）

### 后端

* Account CRUD
* Product CRUD
* Institution

### 前端

* 账户管理页（列表 + 新建/编辑）
* 产品管理页（列表 + 新建/编辑）
* 表单校验（最基本）

### 业务验证点（非常重要）

* 账户类型（cash / credit / investment）
* is_liquid 勾选是否符合你直觉
* 产品字段是否“写起来别扭”（这是 PRD 校验）

✅ Sprint 结束你已经可以：

> **像真实使用一样，把账户和产品先建出来**

---

## Sprint 2（Week 2）：资产快照 + Dashboard 雏形

### 后端

* Snapshot batch_upsert
* Snapshot 查询
* Snapshot vs Transaction warning 框架（先空）

### 前端

* Snapshot 手工录入页（先不 Excel）
* Dashboard v1：

  * 总资产
  * 流动资产
  * 负债
  * Today Available（先用 snapshot 简化）

### 验证点

* Snapshot 作为“权威”是否真的好用
* Dashboard 的指标是不是你“想每天看到的”

---

## Sprint 3（Week 3）：估值曲线 + 产品页（核心）

### 后端

* ProductValuation CRUD
* 估值时间序列
* 插值（仅计算层）

### 前端

* 产品详情页
* 估值曲线
* TWR / 年化 / 回撤（哪怕先只做 1 个窗口）

### 验证点

* “日日金 vs 28D vs 63D”是否真的可比
* 灰显/不可比是否符合直觉

---

## Sprint 4（Week 4）：交易流水 + Lot 状态机

### 后端

* Transaction
* Lot
* redeem / settle 状态机

### 前端

* Lot 列表（holding / redeeming / settled）
* 赎回 / 到账按钮
* 状态时间线

### 验证点

* 赎回那几天你“心理预期的钱”和系统算的一不一致？

---

## Sprint 5（Week 5）：现金可用性 + Excel 导入

### 后端

* Today Available
* Forecast Available
* Excel import（资产 / 估值）

### 前端

* 现金流日历
* 闲置资金提醒
* Excel 上传 + 预览 + Warning

