很好，这一步已经**进入“可以直接开干”的层级**了。
下面是 **Sprint 1 的完整实现清单**，我会严格按你要求的结构来写：

> **任务 → 接口 → 页面 → 验收**
> 并且每一条都做到：**不需要再解释就能开始写代码**。

---

# Sprint 1 实现清单

**主题：账户 & 产品管理（前后端并行）**
**目标**：把现实世界的账户和理财产品，**无损、无歧义地建进系统**

---

## 🎯 Sprint 1 Goal（务必写在看板顶部）

> 我可以像真实用户一样，把我现在用的
> **银行卡 / 现金 / 信用卡 / 理财产品**
> 全部录入系统，并且字段“顺手、不别扭”。

---

# T1-1 Institution（银行/平台）管理

## 任务

建立一个可复用的「机构字典」，供账户和产品选择。

---

### 接口

#### POST /api/institutions

**请求**

```json
{ "name": "长沙银行" }
```

**响应**

```json
{ "id": 1, "name": "长沙银行" }
```

#### GET /api/institutions

**响应**

```json
{
  "items": [
    { "id": 1, "name": "长沙银行" },
    { "id": 2, "name": "支付宝" }
  ]
}
```

**实现要点**

* name 唯一
* 不支持删除（避免被引用后出问题）

---

### 页面

**位置**：

* 不单独做页面
* 在「账户/产品新建表单」中以内联方式出现

**交互**

* 下拉选择已有机构
* 支持「新建并立即选中」

---

### 验收标准（Acceptance Criteria）

* [ ] 能快速新增机构（不跳页）
* [ ] 同名机构不能重复创建
* [ ] 创建后可立即用于账户/产品

---

# T1-2 Account（账户）管理

## 任务

建立账户模型，准确表达**钱在哪里 & 能不能用**。

---

### 接口

#### POST /api/accounts

**请求**

```json
{
  "name": "长沙银行-借记卡",
  "institution_id": 1,
  "type": "debit",
  "is_liquid": true
}
```

**校验规则**

* `type = credit` → `is_liquid` 默认 false
* `type ≠ credit` → `is_liquid` 默认 true

---

#### GET /api/accounts

**响应**

```json
{
  "items": [
    {
      "id": 10,
      "name": "长沙银行-借记卡",
      "type": "debit",
      "is_liquid": true
    },
    {
      "id": 11,
      "name": "花呗",
      "type": "credit",
      "is_liquid": false
    }
  ]
}
```

---

#### PATCH /api/accounts/{id}

**请求**

```json
{ "is_liquid": true }
```

---

### 页面

#### 账户列表页

**展示列**

* 账户名
* 类型（现金 / 银行卡 / 信用卡 / 投资账户）
* 是否计入可用现金（✓ / ×）

**操作**

* 新建账户
* 编辑账户（弹窗即可）

---

#### 新建 / 编辑账户表单

**字段**

* 名称（必填）
* 机构（下拉 + 新建）
* 类型（枚举）
* 是否计入流动资产（checkbox）

**交互约束**

* 选择「信用卡」时，is_liquid 自动取消勾选（可手动改）

---

### 验收标准

* [ ] 能完整建模：现金 / 借记卡 / 信用卡 / 投资账户
* [ ] 信用卡默认不计入可用现金
* [ ] 修改 is_liquid 后，后续计算会用到（Sprint 2 验证）
* [ ] 填写过程无“我不知道该填什么”的时刻（主观但重要）

---

# T1-3 Product（理财产品）管理

## 任务

建立理财产品主数据，为后续估值、比较、预测打基础。

---

### 接口

#### POST /api/products

**请求**

```json
{
  "name": "28D",
  "institution_id": 1,
  "product_type": "bank_wmp",
  "risk_level": "R2",
  "term_days": 28,
  "liquidity_rule": "closed",
  "settle_days": 1,
  "note": "到期赎回"
}
```

---

#### GET /api/products

**响应**

```json
{
  "items": [
    {
      "id": 200,
      "name": "28D",
      "risk_level": "R2",
      "term_days": 28,
      "liquidity_rule": "closed",
      "settle_days": 1
    }
  ]
}
```

---

### 页面

#### 产品列表页

**展示列**

* 产品名
* 机构
* 风险等级（R1–R5）
* 期限
* 赎回规则（开放 / 封闭 / 定开）

---

#### 新建 / 编辑产品表单

**字段**

* 产品名（必填）
* 机构
* 风险等级（下拉：R1–R5）
* 期限天数（number，可为空）
* 流动性规则（枚举）
* 赎回到账 T+N
* 备注

**交互设计**

* “日日金”类产品：

  * 期限允许为 0
  * 流动性默认 open
* 不强制你一次填全（MVP 友好）

---

### 验收标准

* [ ] 能准确表达 28D / 63D / 91D / 日日金
* [ ] 字段与银行 APP 里的信息一一对应
* [ ] 不需要理解“系统内部概念”就能填

---

# T1-4 前后端联调 & 数据一致性检查

## 任务

确保前端所见即后端真实数据，无“假页面”。

---

### 联调清单

* [ ] 新建账户 → 刷新列表 → 数据一致
* [ ] 编辑账户 → 再次进入仍正确
* [ ] 新建产品 → 立即出现在列表
* [ ] 刷新页面不丢数据

---

### 验收标准（Sprint 1 Exit Criteria）

> **如果以下问题你能全部回答“是”，Sprint 1 才算完成**

* [ ] 我能把现在所有账户建进去
* [ ] 我能把现在所有理财产品建进去
* [ ] 填写过程中没有明显“反人类字段”
* [ ] 我对这些数据“以后能一直用”有信心

---

## 🧠 给你的一个关键提醒（作为 Tech Lead）

> **Sprint 1 不追求“完整”，只追求“真实”。**

如果你在这个 Sprint 里发现：

* 某字段需要改名
* 某字段需要拆分 / 合并
* 某默认值不合理

👉 **现在改，成本最低。**

---

如果你愿意，下一步我可以：

* **按同样格式把 Sprint 2（资产快照 & Dashboard）也写出来**
* 或 **直接给你 Sprint 1 的数据库 seed.sql + mock 数据，帮你快速联调**

你选一个，我继续。
